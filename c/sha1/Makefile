all: sha1-na誰ve sha1-x86

sha1-na誰ve: main.c sha1-na誰ve.c
	cc -flto -O3 -o $@ main.c $@.c

sha1-x86: main.c sha1-x86.c
	cc -flto -O3 -msha -msse4.1 -o $@ main.c $@.c

expected:
	{ yes 'a' | tr -d '\n' | head -c1000000;   \
	  yes 'b' | tr -d '\n' | head -c1000000; } \
	| sha1sum | cut -d' ' -f1

clean:
	rm -f sha1-na誰ve sha1-x86
